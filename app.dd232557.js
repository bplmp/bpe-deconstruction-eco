(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(t,e,n){t.exports=n(4)},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n(0),a=[37.76496739271615,-122.39985495803376],s={"Architectural / Consulting Firm":"#ff7f0e",Deconstruction:"#2ca02c","Government / Public Agency":"#aec7e8",Reuse:"#9467bd","Waste Management & Recycling":"#bcbd22"};function i(t){var e={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[]}};for(var n in t)t.hasOwnProperty(n)&&(e.properties[n.trim()]=t[n].trim());return e.geometry.coordinates.push(parseFloat(t.LON)),e.geometry.coordinates.push(parseFloat(t.LAT)),e}function d(t){var e=t.split(/[^\d\w\.]+/);return function(t,e,n,o){var r=parseInt(t)+parseInt(e)/60+parseInt(n)/3600;"S"!=o&&"W"!=o||(r*=-1);return r}(e[0],e[1],e[2],e[3])}n(3);document.querySelector("#app").innerHTML='\n<div id="spinner">\n  <div class="spinner-grow text-secondary" role="status">\n    <span class="sr-only">Loading...</span>\n  </div>\n</div>\n<div id=\'map\'></div>\n<div id=\'mapLegend\'></div>\n',window.addEventListener("DOMContentLoaded",(function(){o.parse("https://docs.google.com/spreadsheets/d/19ss6dmhb2B9qFWZQVODeYFJzMBCvyd5fPy8bjkA3CB8/pub?gid=1619676924&output=csv",{download:!0,header:!0,complete:function(t){var e=t.data,n=function(t){for(var e={type:"FeatureCollection",features:[]},n=0;n<t.length;n++){var o=t[n];o.LON=o.LON.replace(",","."),o.LAT=o.LAT.replace(",",".");var r=o.LON,a=o.LAT;r.match(/[a-z]/i)&&a.match(/[a-z]/i)&&(o.LON=d(o.LON),o.LAT=d(o.LAT));try{if(0==isNaN(parseFloat(r))&&0==isNaN(parseFloat(a))){var s=i(o);e.features.push(s)}}catch(t){console.log("error parsing row",n,t)}}return e}(e);console.log(e),console.log(n),console.log(e.length,"rows received"),console.log(n.features.length,"rows parsed"),function(t){var e=r.map("map",{center:a,zoom:8,scrollWheelZoom:!1});r.tileLayer("https://api.mapbox.com/styles/v1/bernardosp/ck3r9ne5k21bj1dpdgl67vzyu/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiYmVybmFyZG9zcCIsImEiOiJjamkyMmhqdjAwZ284M2txcHpqYjUwam91In0.RiploEl5Mm6bjXhPZbN6XQ",{maxZoom:18,attribution:'Map data &copy <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox.light"}).addTo(e);r.geoJSON(t,{pointToLayer:function(t,e){return console.log(t),r.circleMarker(e,{radius:9,fillColor:s[t.properties["GENERAL ROLE"]],color:"#fff",weight:1,opacity:1,fillOpacity:.9})},onEachFeature:function(t,e){var n=t.properties;e.bindPopup('\n      <div class="popup">\n        <h2>'+n.ENTITY+"</h2>\n        "+(n["LOCATION NAME"]?"<h4>"+n["LOCATION NAME"]+"</h4>":"")+'\n        <hr/>\n        <table class="table">\n          <tbody>\n            <tr><td><strong>Role(s)</strong></td><td>'+n["ROLE(S)"]+"</td></tr>\n            <tr><td><strong>Address</strong></td><td>"+n["FULL ADDRESS"]+"</td></tr>\n            <tr><td><strong>Contact</strong></td><td>"+n.CONTACT+"</td></tr>\n            <tr><td><strong>Email</strong></td><td>"+n.EMAIL+"</td></tr>\n            <tr><td><strong>Phone</strong></td><td>"+n.PHONE+'</td></tr>\n            <tr><td><strong>Website</strong></td><td><a href="'+n.WEBSITE+'" target="_blank">'+n.WEBSITE+"</a></td></tr>\n          </tbody>\n        </table>\n      </div>\n      ")}}).addTo(e)}(n),setTimeout((function(){document.getElementById("spinner").style.display="none"}),350)}})})),document.querySelector("#mapLegend").innerHTML=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push('\n        <div class="map-legend-row flex">\n          <div class="map-legend-color" style="background: '+t[n]+'"></div>\n          <span>'+n+"</span>\n        </div>\n      ");return'<div class="map-legend flex flex-column">'+e.join("\n")+"</div>"}(s)}],[[2,1,2]]]);
//# sourceMappingURL=app.dd232557.js.map