(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,n,t){e.exports=t(4)},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var o=t(1),r=t(0),a=[37.76496739271615,-122.39985495803376],s={"Architectural / Consulting Firm":"#ff7f0e",Deconstruction:"#2ca02c","Government / Public Agency":"#aec7e8",Reuse:"#9467bd","Waste Management & Recycling":"#bcbd22"};function i(e){var n={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[]}};for(var t in e)e.hasOwnProperty(t)&&(n.properties[t]=e[t]);return n.geometry.coordinates.push(parseFloat(e.LON)),n.geometry.coordinates.push(parseFloat(e.LAT)),n}function c(e){var n=e.split(/[^\d\w\.]+/);return function(e,n,t,o){var r=parseInt(e)+parseInt(n)/60+parseInt(t)/3600;"S"!=o&&"W"!=o||(r*=-1);return r}(n[0],n[1],n[2],n[3])}t(3);document.querySelector("#app").innerHTML='\n<div id="spinner">\n  <div class="spinner-grow text-secondary" role="status">\n    <span class="sr-only">Loading...</span>\n  </div>\n</div>\n<div id=\'map\'></div>\n<div id=\'mapLegend\'></div>\n',window.addEventListener("DOMContentLoaded",(function(){o.parse("https://docs.google.com/spreadsheets/d/19ss6dmhb2B9qFWZQVODeYFJzMBCvyd5fPy8bjkA3CB8/pub?gid=1619676924&output=csv",{download:!0,header:!0,complete:function(e){var n=e.data,t=function(e){for(var n={type:"FeatureCollection",features:[]},t=0;t<e.length;t++){var o=e[t];o.LON=o.LON.replace(",","."),o.LAT=o.LAT.replace(",",".");var r=o.LON,a=o.LAT;r.match(/[a-z]/i)&&a.match(/[a-z]/i)&&(o.LON=c(o.LON),o.LAT=c(o.LAT));try{if(0==isNaN(parseFloat(r))&&0==isNaN(parseFloat(a))){var s=i(o);n.features.push(s)}}catch(e){console.log("error parsing row",t,e)}}return n}(n);console.log(n),console.log(t),console.log(n.length,"rows received"),console.log(t.features.length,"rows parsed"),function(e){var n=r.map("map").setView(a,8);r.tileLayer("https://api.mapbox.com/styles/v1/bernardosp/ck3r9ne5k21bj1dpdgl67vzyu/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiYmVybmFyZG9zcCIsImEiOiJjamkyMmhqdjAwZ284M2txcHpqYjUwam91In0.RiploEl5Mm6bjXhPZbN6XQ",{maxZoom:18,attribution:'Map data &copy <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox.light"}).addTo(n);r.geoJSON(e,{pointToLayer:function(e,n){return console.log(e),r.circleMarker(n,{radius:9,fillColor:s[e.properties["GENERAL ROLE"]],color:"#fff",weight:1,opacity:1,fillOpacity:.9})},onEachFeature:function(e,n){var t=e.properties;function o(e,n){return e[n]?"<tr><td><strong>"+n+"</strong></td><td>"+e[n]+"</td></tr>":""}var r="\n      "+o(t,"ENTITY")+"\n      "+o(t,"GENERAL ROLE")+"\n      "+o(t,"ROLE(S)")+"\n      "+o(t,"LOCATION NAME")+"\n      "+o(t,"FULL ADDRESS")+"\n      "+o(t,"CONTACT")+"\n      "+o(t,"EMAIL")+"\n      "+o(t,"PHONE")+"\n      "+function(e,n,t){return e[n]?'<tr><td colspan="2"><strong><a href="'+e[n]+'" target="_blank">'+t+"</a></strong></td></tr>":""}(t,"WEBSITE","WEBSITE")+"\n    ";n.bindPopup('\n      <table class="table table-sm">\n        <tbody>\n          '+r+"\n        </tbody>\n      </table>")}}).addTo(n)}(t),setTimeout((function(){document.getElementById("spinner").style.display="none"}),350)}})})),document.querySelector("#mapLegend").innerHTML=function(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push('\n        <div class="map-legend-row flex">\n          <div class="map-legend-color" style="background: '+e[t]+'"></div>\n          <span>'+t+"</span>\n        </div>\n      ");return'<div class="map-legend flex flex-column">'+n.join("\n")+"</div>"}(s)}],[[2,1,2]]]);
//# sourceMappingURL=app.a8fd20e8.js.map